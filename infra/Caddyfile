{
  auto_https off      # Dev only: disable HTTPS. In prod, Caddy gets certs automatically.
}

:8080 {
  # quick health page at root
  respond / "yourcomics caddy up" 200

  # future API path; weâ€™ll point this to the Node server soon
  handle_path /api* {
    reverse_proxy 127.0.0.1:3000
  }

  # proxy MinIO API through Caddy so everything is under one front door
  @minio path /minio* /api/minio* /s3*
  handle @minio {
    reverse_proxy 127.0.0.1:${MINIO_API_PORT}
  }

  log {
    output stdout    # write logs to container stdout (visible via `docker logs`)
    format console   # human-friendly formatting
  }
}

